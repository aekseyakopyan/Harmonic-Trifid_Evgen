#!/bin/bash

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏
INTERVAL=5 # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
BRANCH="main"

echo "üöÄ –ê–≤—Ç–æ-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å GitHub –∑–∞–ø—É—â–µ–Ω–∞..."
echo "üìÇ –û—Ç—Å–ª–µ–∂–∏–≤–∞—é –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤: $(pwd)"

while true; do
  # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–∏—Å–∫–ª—é—á–∞—è —Ñ–∞–π–ª—ã –≤ .gitignore)
  if [[ -n $(git status -s) ]]; then
    echo "üîÑ –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª—è—é..."
    git add .
    git commit -m "Auto-sync: $(date +'%Y-%m-%d %H:%M:%S')"
    git push origin $BRANCH
    echo "‚úÖ –£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!"
  fi
  sleep $INTERVAL
done
