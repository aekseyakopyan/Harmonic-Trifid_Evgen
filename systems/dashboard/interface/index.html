<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–ª–µ–∫—Å–µ–π - Dashboard</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <h1>ü§ñ –ê–ª–µ–∫—Å–µ–π</h1>
                <p>AI Marketing Bot</p>
            </div>
            <nav class="nav">
                <a href="#dashboard" class="nav-item active" data-view="dashboard">
                    <span class="icon">üìä</span>
                    Dashboard
                </a>
                <a href="#leads" class="nav-item" data-view="leads">
                    <span class="icon">üë•</span>
                    –õ–∏–¥—ã
                </a>
                <a href="#cases" class="nav-item" data-view="cases">
                    <span class="icon">üíº</span>
                    –ö–µ–π—Å—ã
                </a>
                <a href="#services" class="nav-item" data-view="services">
                    <span class="icon">üéØ</span>
                    –£—Å–ª—É–≥–∏
                </a>
                <a href="#parser" class="nav-item" data-view="parser">
                    <span class="icon">üîç</span>
                    –ü–∞—Ä—Å–µ—Ä
                </a>
                <a href="#settings" class="nav-item" data-view="settings">
                    <span class="icon">‚öôÔ∏è</span>
                    –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard View -->
            <div id="dashboard-view" class="view active">
                <header class="page-header">
                    <h2>Dashboard</h2>
                    <div class="status">
                        <span class="status-indicator"></span>
                        API: <span id="api-status">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
                    </div>
                </header>

                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">üë§</div>
                        <div class="metric-info">
                            <h3 id="total-leads">-</h3>
                            <p>–í—Å–µ–≥–æ –ª–∏–¥–æ–≤</p>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üí¨</div>
                        <div class="metric-info">
                            <h3 id="active-dialogues">-</h3>
                            <p>–ê–∫—Ç–∏–≤–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏</p>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üì®</div>
                        <div class="metric-info">
                            <h3 id="total-messages">-</h3>
                            <p>–í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π</p>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üìà</div>
                        <div class="metric-info">
                            <h3 id="messages-today">-</h3>
                            <p>–°–µ–≥–æ–¥–Ω—è —Å–æ–æ–±—â–µ–Ω–∏–π</p>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h3>–ù–µ–¥–∞–≤–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h3>
                    <div id="recent-activity" class="activity-list">
                        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                    </div>
                </div>
            </div>

            <!-- Leads View -->
            <div id="leads-view" class="view">
                <header class="page-header">
                    <h2>–õ–∏–¥—ã</h2>
                    <input type="text" id="leads-search" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ username..."
                        class="search-input">
                </header>
                <div id="leads-table" class="data-table">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                </div>
            </div>

            <!-- Cases View -->
            <div id="cases-view" class="view">
                <header class="page-header">
                    <h2>–ö–µ–π—Å—ã</h2>
                    <button id="add-case-btn" class="btn-primary">+ –î–æ–±–∞–≤–∏—Ç—å –∫–µ–π—Å</button>
                </header>
                <div id="cases-grid" class="cases-grid">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                </div>
            </div>

            <!-- Services View -->
            <div id="services-view" class="view">
                <header class="page-header">
                    <h2>–£—Å–ª—É–≥–∏ –∏ –∫–µ–π—Å—ã</h2>
                </header>
                <div id="services-accordion" class="services-list">
                    <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                </div>
            </div>

            <!-- Settings View -->
            <div id="settings-view" class="view">
                <header class="page-header">
                    <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                </header>

                <div class="section outreach-controls">
                    <h3>üì¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–∫–æ–π (–ê–ª–µ–∫—Å–µ–π Outreach)</h3>
                    <div class="control-group">
                        <label class="switch-label">
                            <input type="checkbox" id="outreach-enabled">
                            <span class="slider"></span>
                            –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ä–∞—Å—Å—ã–ª–∫—É (–†–£–ë–ò–õ–¨–ù–ò–ö)
                        </label>
                    </div>

                    <div class="control-group">
                        <label class="switch-label">
                            <input type="checkbox" id="outreach-test-mode" checked>
                            <span class="slider"></span>
                            –†–µ–∂–∏–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (—Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —á–∞—Ç—ã)
                        </label>
                    </div>

                    <div class="control-group">
                        <label for="outreach-test-chat-id">ID —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —á–∞—Ç–∞:</label>
                        <input type="number" id="outreach-test-chat-id" placeholder="-100..." class="input-field">
                        <p class="note">üí° –í —Ä–µ–∂–∏–º–µ —Ç–µ—Å—Ç–∞ –±–æ—Ç –±—É–¥–µ—Ç –ø–∏—Å–∞—Ç—å [—Ç–æ–ª—å–∫–æ —Å—é–¥–∞].</p>
                    </div>

                    <button id="save-outreach-settings" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å—Å—ã–ª–∫–∏</button>
                    <div id="outreach-save-status" class="save-status"></div>
                </div>

                <div class="section">
                    <h3>System Prompt</h3>
                    <textarea id="system-prompt" rows="20" class="prompt-editor" readonly>–ó–∞–≥—Ä—É–∑–∫–∞...</textarea>
                    <p class="note">üí° –î–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º–ø—Ç–∞ –∏–∑–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª config/prompts.py</p>
                </div>
            </div>

            <!-- Parser View -->
            <div id="parser-view" class="view">
                <header class="page-header">
                    <h2>üîç –ü–∞—Ä—Å–µ—Ä –í–∞–∫–∞–Ω—Å–∏–π</h2>
                    <div class="status">
                        <span class="status-indicator" id="parser-status-indicator"></span>
                        <span id="parser-status-text">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                    </div>
                </header>

                <!-- Emergency Kill Switch -->
                <div class="emergency-section">
                    <div class="emergency-card">
                        <div class="emergency-icon">üö®</div>
                        <div class="emergency-content">
                            <h3>Emergency Stop</h3>
                            <p id="parser-current-activity">–°—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...</p>
                        </div>
                        <button id="parser-toggle-btn" class="emergency-btn">–û–°–¢–ê–ù–û–í–ò–¢–¨</button>
                    </div>
                </div>

                <!-- Stats Grid -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon">üìã</div>
                        <div class="metric-info">
                            <h3 id="parser-vacancies-found">-</h3>
                            <p>–ù–∞–π–¥–µ–Ω–æ –≤–∞–∫–∞–Ω—Å–∏–π —Å–µ–≥–æ–¥–Ω—è</p>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">üì§</div>
                        <div class="metric-info">
                            <h3 id="parser-responses-sent">-</h3>
                            <p>–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–∫–ª–∏–∫–æ–≤</p>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">‚úÖ</div>
                        <div class="metric-info">
                            <h3 id="parser-success-rate">-</h3>
                            <p>–£—Å–ø–µ—à–Ω–æ—Å—Ç—å (%)</p>
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-icon">‚è∞</div>
                        <div class="metric-info">
                            <h3 id="parser-last-run">-</h3>
                            <p>–ü–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫</p>
                        </div>
                    </div>
                </div>

                <!-- Recent Vacancies -->
                <div class="section">
                    <h3>üìù –ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏</h3>
                    <div id="recent-vacancies-container">
                        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modal for lead details -->
    <div id="lead-modal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h2 id="modal-lead-name">–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞</h2>
            <div id="modal-messages" class="messages-container">
                <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            </div>
        </div>
    </div>

    <script src="/js/app.js"></script>
</body>

</html>